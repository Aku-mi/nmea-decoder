<script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDxmi4EId4iRHVaPof0PeD_sBCNrHefWX0&language=en&callback=initMap&libraries=&v=weekly"
    defer>
    </script>
<script>

    const data = {{{ json secuences }}};

    function addMarker(coords, map, info) {
        let marker = new google.maps.Marker({
            position: coords,
            map,
            icon: "https://i.ibb.co/zVNGcnT/yate.png"
        });
        let aux = '<div><h5> ' + info + '</h5></div>';
        let infoWindow = new google.maps.InfoWindow({
            content: aux
        });
        marker.addListener('click', () => {
            infoWindow.open(map, marker);
        });
    }

    function initMap() {
        let options = {
            zoom: 2,
            center: { lat: 40, lng: -8 },
            disableDefaultUI: true,
            disableDoubleClickZoom: true,
            fullscreenControl: true,
            draggable: true,
            mapTypeControl: true,
            mapTypeControlOptions: { style: google.maps.MapTypeControlStyle.DROPDOWN_MENU },
            navigationControl: true,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        let map = new google.maps.Map(document.getElementById("map"), options);

        for (let i = 0; i < data.length; i++) {
            addMarker({ lat: data[i].lat, lng: data[i].lon }, map, data[i].date);
        }

    }
</script>

<style>
    #map {
        width: 100%;
        height: 650px;
    }
</style>

<div class="col col-md-12">
    <div class="card">
        <div class="card-body">
            <div id="map">

            </div>
        </div>
    </div>
</div>